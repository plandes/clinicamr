# command line applications and sections to delete after load
[cli]
apps = list: ${cli_config_default:apps}, show_config_cli, clear_cli, app, papp
app_removes = list: list_actions_cli
cleanups = list: ${cli_config_default:cleanups}, show_config_cli, override_cli_decorator, papp

[log_cli]
format = %%(asctime)s[%%(levelname)s]:%%(name)s %%(message)s
loggers = dict: {
  'penman.layout': 'err',
  'zensols.nlp.combine': 'info',
  'zensols.mednlp': 'info',
  'zensols.mimic': 'info',
  'zensols.amr': 'info',
  'zensols.amr.docparser': 'info',
  'zensols.amr.coref': 'debug',
  'zensols.amrspring': 'info',
  'zensols.cli.lib.support': 'info'}

[override_cli_decorator]
option_overrides = dict: {'override':
  {'doc': 'amr_default.parse_model=<gsii|t5> to set the model'}}

[clear_cli]
class_name = zensols.cli.CacheClearer
clearables = tuple: mimic_default:clearables, amr_default:clearables, clinicamr_default:clearables

[import]
config_files = list:
    resource(zensols.util): resources/default.conf,
    resource(zensols.util): resources/escape.conf,
    resource(zensols.util): resources/cli.conf,
    resource(zensols.util): resources/cli-config.conf,
    resource(zensols.util): resources/cleaner.conf

[config_import]
references = list: conf_esc, package, default
sections = list: app_imp_conf

[app_imp_conf]
type_map = dict: {'yml': 'condyaml', 'conf': 'importini'}
config_files = list: 
    ^{override}, ^{config_path},
    resource(zensols.mednlp): resources/default.conf,
    resource(zensols.mimic): resources/default.conf,
    resource(zensols.mimicsid): resources/default.conf,
    resource(zensols.amr): resources/default.conf,
    resource(zensols.amrspring): resources/default.conf,
    resource(zensols.clinicamr): resources/default.conf,
    ^{config_path}, ^{override},
    resource(zensols.nlp): resources/obj.conf,
    resource(zensols.nlp): resources/mapper.conf,
    resource(zensols.mednlp): resources/install.conf,
    resource(zensols.mednlp): resources/lang.conf,
    resource(zensols.mednlp): resources/filter-medical.conf,
    resource(zensols.mednlp): resources/entlink.conf,
    resource(zensols.mimic): resources/obj.conf,
    resource(zensols.mimic): resources/decorator.conf,
    resource(zensols.mimicsid): resources/obj.conf,
    resource(zensols.amr): resources/obj.conf,
    resource(zensols.amr): resources/annotate.conf,
    resource(zensols.amr): resources/align.yml,
    resource(zensols.amr): resources/coref.conf,
    resource(zensols.amr): resources/model/inference.conf,
    resource(zensols.amrspring): resources/obj.yml,
    resource(zensols.clinicamr): resources/obj.yml,
    ^{config_path}, ^{override}

[app]
class_name = zensols.clinicamr.app.Application
doc_parser = alias: clinicamr_default:doc_parser
plotter = instance: amr_plotter

[app_decorator]
option_excludes = set: config_factory, doc_parser, plotter, clearables
option_overrides = dict: {'output_path': {'long_name': 'output'}}
mnemonic_overrides = dict: {'write_proof_report': 'proofrep'}


[papp]
class_name = zensols.clinicamr.app.PrototypeApplication
app = instance: app
