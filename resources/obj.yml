# mednlp_doc_parser:
#   doc_class: 'class: zensols.clinicamr.CuiAmrFeatureDocument'
#   sent_class: 'class: zensols.clinicamr.CuiAmrFeatureSentence'
#   condition:
#     if: "eval: '${amr_default:parse_model}' == 't5'"
#     then:
#       components: "instance: list: ${clinicamr_default:doc_parser_components}, amr_add_toki_component"
#     else:
#       components: "instance: list: ${clinicamr_default:doc_parser_components}"

newline_split_token_mapper:
  regex: "r'[\\s\\n]'"

mednlp_combine_doc_parser:
  overwrite_features: 'list: ent, ent_, lemma, lemma_'

sec_para_stash:
  class_name: zensols.persist.DirectoryStash
  path: 'path: ${mimic_default:shared_data_dir}/sec-para'

token_index_mapper:
  class_name: zensols.clinicamr.TokenIndexMapper
  index_type: doc

note_paragraph_factory:
  class_name: zensols.clinicamr.ClinicAmrParagraphFactory
  amr_parser: 'instance: amr_parser'
  doc_parser: 'instance: amr_doc_parser'
  sec_para_stash: 'instance: sec_para_stash'
  0.condition:
    if: "eval: True or '${amr_default:parse_model}' == 't5'"
    then:
      token_index_mapper: 'instance: token_index_mapper'
    else:
      token_index_mapper: null
  1.condition:
    if: "eval: '${amr_default:parse_model}' == 't5'"
    then:
      doc_class: 'class: zensols.clinicamr.CuiAmrFeatureDocument'
    else:
      doc_class: 'class: zensols.amr.AmrFeatureDocument'
  2.condition:
    if: "eval: '${amr_default:parse_model}' == 't5'"
    then:
      sent_class: 'class: zensols.clinicamr.CuiAmrFeatureSentence'
    else:
      sent_class: 'class: zensols.amr.AmrFeatureSentence'
